{{- define "body" -}}
<h1>Ledger for {{.Account}}</h1>
{{if not .Account -}}
<p>Missing account query!</p>
{{else -}}
<table>
  <thead>
    <tr>
      <th>Date</th>
      <th>Description</th>
      <th>Ref</th>
      <th>Debit</th>
      <th>Credit</th>
      <th>Balance</th>
    </tr>
  </thead>
  <tbody>
    {{- range .Rows}}
    <tr{{if .Date }} class="section"{{end}}>
      <td>{{.Date}}</td>
      <td>{{.Description}}</td>
      <td>{{.Position}}</td>
      {{- if not .HasAmount}}
      <td></td>
      <td></td>
      {{else if eq .Amount.Sign 0}}
      <td></td>
      <td class="amount">{{.Amount}}</td>
      {{else}}
      <td class="amount">{{.Amount}}</td>
      <td></td>
      {{- end}}
      {{- if .HasBalance}}
      <td class="amount">{{.Balance}}</td>
      {{else}}
      <td></td>
      {{- end}}
      <tr>
    {{- end}}
  </tbody>
</table>
{{end}}
{{- end}}
